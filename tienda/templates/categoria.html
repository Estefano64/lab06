<!-- tienda/templates/categoria.html -->

{% extends 'layout.html' %}

{% block content %}
<h2>{{ categoria.nombre }}</h2>
{% if categoria.imagen %}
  <img src="{{ categoria.imagen.url }}" alt="{{ categoria.nombre }}" style="width: 200px; height: auto;">
{% endif %}

<div class="row">
  {% for product in products %}
  <div class="col-lg-4 col-md-6 mb-4">
    <div class="card h-100">
      <a href="{% url 'tienda:producto' product.id %}">
        {% if product.imagen %}
          <img class="card-img-top" src="{{ product.imagen.url }}" alt="{{ product.nombre }}">
        {% else %}
          <img class="card-img-top" src="http://placehold.it/700x400" alt="">
        {% endif %}
      </a>
      <div class="card-body">
        <h4 class="card-title">
          <a href="{% url 'tienda:producto' product.id %}">{{ product.nombre }}</a>
        </h4>
        <h5>S/ {{ product.precio }}</h5>
        <p class="card-text">Categoria: {{ product.categoria.nombre }}</p>
      </div>
      <div class="card-footer">
        <small class="text-muted">&#9733; &#9733; &#9733; &#9733; &#9734;</small>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}